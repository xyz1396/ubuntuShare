# ModelSEED Biochemistry Database Scripts (Curation/Disambiguation)

You feed a single compound identifier into `Print_Compound_to_Disambiguate.py`

eg:

```
./Print_Compound_to_Disambiguate.py cpd03657
```

The script collects all the data associated with the compound and consolidates it into a single JSON object, i.e. in this case:
```
(cpd02592_Sam_Seaver_Reactions_Object.json)[Disambiguation/Objects/cpd02592_Sam_Seaver_Reactions_Object.json]
```
(it uses your git name).

You edit this object, and you change any value from true to false if
it doesn't belong to the originating compound (you might have to
create a new compound, seen at the bottom of the object, though the
code attempts to find one in the current biochemistry)

Then you apply the curation you did in the object by running:

```
./Integrate_Disambiguated_Compound.py Objects/cpd02592_Sam_Seaver_Object.json
```

This script separates out the data into the two compounds. But, if it
finds that the disambiguation affects any reactions, then you get a
new object to curate within which all the reactions associated with
the compounds are listed, and you should edit to determine which
reaction is for which compound:

```
./Integrate_Disambiguated_Reactions.py Objects/cpd02592_Sam_Seaver_Reactions_Object.json
```

In the [Structures](../Structures) folder, you have to
re-run code for updating structures and formulas in the database

```
./List_ModelSEED_Structures.py
./Update_Compound_Structures_Formulas_Charge.py
```

and in the [Biochemistry](../Biochemistry) folder, you have to re-run
the code for updating names, aliases, reaction mass balancing
etc. Best to use the bash script `Refresh_Database.sh`:

```
Refresh/Refresh_Database.sh
```
Finally, you should do these last few checks:

* Use git diff to check how the changes propagated
* Run `Reprint_Biochemistry.py` script in the Biochemistry folder to check that it won't change again
* Add and commit the objects generated by the curation process into the repository
* Commit your changes and make a new PR for us to review

